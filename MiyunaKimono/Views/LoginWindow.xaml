<Window x:Class="MiyunaKimono.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:helpers="clr-namespace:MiyunaKimono.Helpers"
        
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Log in" Height="650" Width="1100" WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize" Background="White">
    <Grid Margin="40">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="1.1*" />
        </Grid.ColumnDefinitions>

        <!-- LEFT: Image Slider -->
        <Grid Grid.Column="0" Margin="0,10,30,10" ClipToBounds="True">
            <Image x:Name="SlideImage" Stretch="UniformToFill" />
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,15">
                <Ellipse Width="10" Height="10" Fill="#ddd" Margin="4"/>
                <Ellipse Width="10" Height="10" Fill="#ddd" Margin="4"/>
                <Ellipse Width="10" Height="10" Fill="#ddd" Margin="4"/>
            </StackPanel>
        </Grid>

        <!-- RIGHT: Form -->
        <StackPanel Grid.Column="1" Margin="10,10,0,10">
            <TextBlock Text="Log in"
           FontSize="48" FontWeight="Bold" Margin="0,0,0,20"
           HorizontalAlignment="Center" TextAlignment="Center"/>

            <!-- USERNAME -->
            <Border CornerRadius="10" Background="#F2F2F2" Padding="0" Margin="0,0,0,12" Height="48">
                <Grid Margin="12,0,12,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="28"/>
                        <!-- ไอคอน -->
                        <ColumnDefinition/>
                        <!-- ช่องกรอก -->
                    </Grid.ColumnDefinitions>

                    <!-- ไอคอน -->
                    <Image Grid.Column="0" Width="18" Height="18" VerticalAlignment="Center"
           Source="pack://application:,,,/Assets/user.png"/>

                    <!-- กล่องพิมพ์จริง -->
                    <TextBox x:Name="TxtUsername"
             Grid.Column="1"
             BorderThickness="0" Background="Transparent" FontSize="16"
             VerticalContentAlignment="Center"/>

                    <!-- ✅ Placeholder: แสดงเฉพาะตอนว่างและไม่ได้โฟกัส -->
                    <TextBlock x:Name="UsernameWatermark"
               Grid.Column="1"
               Text="username"
               Foreground="#999" FontSize="16"
               VerticalAlignment="Center" HorizontalAlignment="Left"
               IsHitTestVisible="False">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Setter Property="Visibility" Value="Collapsed"/>
                                <Style.Triggers>
                                    <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <!-- ว่าง -->
                                            <Condition Binding="{Binding Text.Length, ElementName=TxtUsername}" Value="0"/>
                                            <!-- และไม่ได้โฟกัส -->
                                            <Condition Binding="{Binding IsKeyboardFocusWithin, ElementName=TxtUsername}" Value="False"/>
                                        </MultiDataTrigger.Conditions>
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </MultiDataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                </Grid>
            </Border>


            <!-- Password (placeholder "password" + ปุ่มตา PNG + สลับโชว์/ซ่อน) -->
            <!-- PASSWORD -->
            <Border CornerRadius="10" Background="#F2F2F2" Padding="0" Margin="0,0,0,8" Height="48">
                <Grid Margin="12,0,12,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="28"/>
                        <!-- ที่ว่างให้ดูบาลานซ์ (จะไม่ใส่ไอคอนก็ได้) -->
                        <ColumnDefinition/>
                        <!-- กล่องพิมพ์ -->
                        <ColumnDefinition Width="48"/>
                        <!-- ปุ่มตา -->
                    </Grid.ColumnDefinitions>

                    <!-- สลับซ่อน/โชว์ -->
                    <Grid Grid.Column="1">
                        <PasswordBox x:Name="PwdBox"
                   helpers:PasswordBoxHelper.Track="True"
                   BorderThickness="0" Background="Transparent" FontSize="16"
                   VerticalContentAlignment="Center"
                   PasswordChanged="PwdBox_PasswordChanged"/>
                        <TextBox x:Name="PwdPlain"
               BorderThickness="0" Background="Transparent" FontSize="16"
               VerticalContentAlignment="Center"
               Visibility="Collapsed" IsReadOnly="True"/>
                    </Grid>

                    <!-- PLACEHOLDER: ชิดซ้ายตรงตำแหน่งตัวอักษร -->
                    <TextBlock Grid.Column="1" Text="password" Foreground="#999" FontSize="16"
               VerticalAlignment="Center" HorizontalAlignment="Left"
               Margin="0,0,0,0" IsHitTestVisible="False">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Setter Property="Visibility" Value="Collapsed"/>
                                <Style.Triggers>
                                    <!-- โหมดซ่อน -->
                                    <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <Condition Binding="{Binding ElementName=PwdPlain, Path=Visibility}" Value="Collapsed"/>
                                            <Condition Binding="{Binding ElementName=PwdBox, Path=(helpers:PasswordBoxHelper.Length)}" Value="0"/>
                                        </MultiDataTrigger.Conditions>
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </MultiDataTrigger>
                                    <!-- โหมดโชว์ -->
                                    <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <Condition Binding="{Binding ElementName=PwdPlain, Path=Visibility}" Value="Visible"/>
                                            <Condition Binding="{Binding ElementName=PwdPlain, Path=Text.Length}" Value="0"/>
                                        </MultiDataTrigger.Conditions>
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </MultiDataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>

                    <!-- ปุ่มตา -->
                    <Button x:Name="BtnEye" Grid.Column="2"
            Style="{StaticResource IconButtonNoHover}"
            Width="30" Height="30" Click="BtnEye_Click">
                        <Image x:Name="EyeIcon" Stretch="Uniform"
             Source="pack://application:,,,/Assets/eye_closed.png"/>
                    </Button>
                </Grid>
            </Border>


            <!-- Remember + Forgot -->
            <Grid Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <CheckBox x:Name="ChkRemember"
          Content="Remember Me"
          Style="{StaticResource FlatCheckBox}"
          IsTabStop="False"/>
                <!-- ถ้าไม่อยากรับโฟกัสจากคีย์บอร์ด -->

                <Button Grid.Column="1"
          Content="Forgot password"
          HorizontalAlignment="Right"
          Style="{StaticResource GhostLinkButton}"
          Click="ForgotPassword_Click"/>
            </Grid>




            <!-- ปุ่ม Register | log in -->
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0"
          Style="{StaticResource PinkOutlineButton}"
          Content="Register"
          Margin="0,0,10,0"
          Click="Register_Click"/>

                <Button Grid.Column="1"
          Style="{StaticResource PinkPrimaryButton}"
          Content="log in"
          Click="Login_Click"/>
            </Grid>

            <!-- ข้อความ Register here -->
            <TextBlock Margin="0,15,0,0" HorizontalAlignment="Center">
  <Run Text="Don’t have an account ? "/>
  <Hyperlink Click="GoRegister_Click">Register here</Hyperlink>
            </TextBlock>

            <!-- Contact Us + ไอคอน -->
            <StackPanel Margin="0,18,0,0" HorizontalAlignment="Center">
                <TextBlock Text="Contact Us" FontWeight="Bold" FontSize="20"
             HorizontalAlignment="Center" Margin="0,0,0,8"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <Button Style="{StaticResource IconButtonNoHover}" Margin="6,0"
            ToolTip="Instagram" Click="OpenInstagram">
                        <Image Width="28" Height="28"
             Source="pack://application:,,,/Assets/instagram.png"/>
                    </Button>
                    <Button Style="{StaticResource IconButtonNoHover}" Margin="6,0"
            ToolTip="Facebook" Click="OpenFacebook">
                        <Image Width="28" Height="28"
             Source="pack://application:,,,/Assets/facebook.png"/>
                    </Button>
                    <Button Style="{StaticResource IconButtonNoHover}" Margin="6,0"
            ToolTip="X (Twitter)" Click="OpenX">
                        <Image Width="28" Height="28"
             Source="pack://application:,,,/Assets/x.png"/>
                    </Button>
                </StackPanel>
            </StackPanel>
        </StackPanel>
    </Grid>
</Window>
