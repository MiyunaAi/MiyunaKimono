<Window x:Class="MiyunaKimono.Views.ForgetPasswordWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Forget password" Height="1000" Width="1850"
        WindowStartupLocation="CenterScreen" Background="White">

    <Grid Margin="40">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition Width="1.1*"/>
        </Grid.ColumnDefinitions>

        <!-- LEFT: สไลด์ภาพ -->
        <Grid Grid.Column="0" Margin="0,10,30,10" ClipToBounds="True">
            <Image x:Name="SlideImage" Stretch="UniformToFill"/>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,15">
                <Ellipse Width="10" Height="10" Fill="#ddd" Margin="4"/>
                <Ellipse Width="10" Height="10" Fill="#ddd" Margin="4"/>
                <Ellipse Width="10" Height="10" Fill="#ddd" Margin="4"/>
            </StackPanel>
        </Grid>

        <!-- RIGHT -->
        <Grid Grid.Column="1" Margin="10,10,0,10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Back (บนซ้าย) -->
            <Button Grid.Row="0" Style="{StaticResource IconButtonNoHover}" Width="36" Height="36"
              Click="Back_Click" ToolTip="Back to log in" HorizontalAlignment="Left" Margin="0,0,0,6">
                <Image Source="pack://application:,,,/Assets/back.png" Stretch="Uniform"/>
            </Button>

            <StackPanel Grid.Row="1">
                <TextBlock Text="Forget password" FontSize="48" FontWeight="Bold" Margin="44,0,0,14"/>

                <!-- Email -->
                <TextBlock Style="{StaticResource FormLabel}" Text="Email"/>
                <Border CornerRadius="10" Background="#F2F2F2" Padding="10" Margin="0,0,0,10" Height="48">
                    <DockPanel LastChildFill="True">
                        <Image Source="pack://application:,,,/Assets/mail.png" Width="18" Height="18" Margin="0,0,8,0" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtEmail" Style="{StaticResource WatermarkTextBox}" Tag="Email" VerticalContentAlignment="Center"/>
                    </DockPanel>
                </Border>

                <!-- OTP + Send/Resend + Countdown -->
                <TextBlock Style="{StaticResource FormLabel}" Text="OTP"/>
                <Grid Height="48" Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="140"/>
                    </Grid.ColumnDefinitions>

                    <Border CornerRadius="10" Background="#F2F2F2" Padding="10" Grid.Column="0">
                        <TextBox x:Name="TxtOtp" Style="{StaticResource WatermarkTextBox}" Tag="Enter OTP for reset password"
                     VerticalContentAlignment="Center"/>
                    </Border>

                    <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                        <TextBlock x:Name="LblCountdown" Foreground="#666" Margin="0,0,6,0" VerticalAlignment="Center" Visibility="Collapsed"/>
                        <Button x:Name="BtnSend" Content="Send" Style="{StaticResource PinkOutlineButton}" Height="36" Width="100"
                    Click="SendOtp_Click"/>
                    </StackPanel>
                </Grid>

                <!-- New password -->
                <TextBlock Style="{StaticResource FormLabel}" Text="New password"/>
                <Border CornerRadius="10" Background="#F2F2F2" Padding="10" Margin="0,0,0,10" Height="48">
                    <TextBox x:Name="TxtNewPass" Style="{StaticResource WatermarkTextBox}" Tag="New password" VerticalContentAlignment="Center"/>
                </Border>

                <!-- Confirm new password -->
                <TextBlock Style="{StaticResource FormLabel}" Text="Confirm new password"/>
                <Border CornerRadius="10" Background="#F2F2F2" Padding="10" Margin="0,0,0,16" Height="48">
                    <TextBox x:Name="TxtNewPass2" Style="{StaticResource WatermarkTextBox}" Tag="Confirm a new password" VerticalContentAlignment="Center"/>
                </Border>

                <!-- ปุ่มคู่ -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>

                    <Button Grid.Column="0" Content="Back to log in" Style="{StaticResource PinkOutlineButton}" Height="48"
                  Margin="0,0,10,0" Click="Back_Click"/>

                    <Button Grid.Column="1" Content="Confirm" Style="{StaticResource PinkPrimaryButton}" Height="48"
                  Click="Confirm_Click"/>
                </Grid>

                <!-- ลิงก์ + Contact Us (เหมือนหน้าอื่น) -->
                <TextBlock Margin="0,15,0,0" HorizontalAlignment="Center">
          <Run Text="Don’t have an account ? "/>
          <Hyperlink Click="GoRegister_Click">Register here</Hyperlink>
                </TextBlock>

                <StackPanel Margin="0,18,0,0" HorizontalAlignment="Center">
                    <TextBlock Text="Contact Us" FontWeight="Bold" FontSize="20" HorizontalAlignment="Center" Margin="0,0,0,8"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <Button Style="{StaticResource IconButtonNoHover}" Margin="6,0" Click="OpenInstagram">
                            <Image Width="28" Height="28" Source="pack://application:,,,/Assets/instagram.png"/>
                        </Button>
                        <Button Style="{StaticResource IconButtonNoHover}" Margin="6,0" Click="OpenFacebook">
                            <Image Width="28" Height="28" Source="pack://application:,,,/Assets/facebook.png"/>
                        </Button>
                        <Button Style="{StaticResource IconButtonNoHover}" Margin="6,0" Click="OpenX">
                            <Image Width="28" Height="28" Source="pack://application:,,,/Assets/x.png"/>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
